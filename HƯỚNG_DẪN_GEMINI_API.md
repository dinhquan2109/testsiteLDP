# ğŸ¤– HÆ¯á»šNG DáºªN CÃ€I Äáº¶T GEMINI AI

## âœ… ÄÃƒ THÃŠM TÃNH NÄ‚NG

### 1. Result Page Má»›i:
- âœ… Spiral binding Ä‘áº¹p (giá»‘ng notebook)
- âœ… Logo IC gÃ³c trÃªn
- âœ… MÃ u ná»n xanh lÃ¡ gradient
- âœ… Grid hiá»ƒn thá»‹ 10 cÃ¢u Ä‘Ãºng/sai (âœ“/âœ•)
- âœ… ThÃ´ng tin: TÃªn, trÃ¬nh Ä‘á»™, thá»i gian
- âœ… Äiá»ƒm sá»‘ lá»›n, rÃµ rÃ ng

### 2. AI Feedback cho BÃ i Tá»± Luáº­n:
- âœ… TÃ­ch há»£p Gemini AI
- âœ… Tá»± Ä‘á»™ng phÃ¢n tÃ­ch bÃ i viáº¿t
- âœ… Nháº­n xÃ©t vá»: Ná»™i dung, ngá»¯ phÃ¡p, tá»« vá»±ng, cáº¥u trÃºc
- âœ… Gá»£i Ã½ cáº£i thiá»‡n
- âœ… Loading animation

---

## ğŸ”‘ Láº¤Y GEMINI API KEY (5 PHÃšT)

### BÆ°á»›c 1: Truy cáº­p Google AI Studio
```
https://makersuite.google.com/app/apikey
```

### BÆ°á»›c 2: ÄÄƒng nháº­p
- DÃ¹ng Google account cá»§a báº¡n
- Cháº¥p nháº­n Terms of Service

### BÆ°á»›c 3: Táº¡o API Key
```
1. Click "Get API Key" hoáº·c "Create API Key"
2. Chá»n project (hoáº·c táº¡o má»›i)
3. Click "Create API Key in new project"
4. COPY API KEY (dáº¡ng: AIza...)
```

**âš ï¸ LÆ¯U Ã:** API key nÃ y quan trá»ng, khÃ´ng chia sáº» cÃ´ng khai!

---

## ğŸ”§ CÃ€I Äáº¶T VÃ€O CODE (2 PHÃšT)

### BÆ°á»›c 1: Má»Ÿ file index.html

### BÆ°á»›c 2: TÃ¬m dÃ²ng nÃ y (khoáº£ng dÃ²ng 2681):
```javascript
const GEMINI_API_KEY = 'YOUR_GEMINI_API_KEY_HERE';
```

### BÆ°á»›c 3: Thay Ä‘á»•i:
```javascript
const GEMINI_API_KEY = 'AIzaSyXXXXXXXXXXXXXXXXXXXX'; // Paste key cá»§a báº¡n
```

**VÃ­ dá»¥:**
```javascript
const GEMINI_API_KEY = 'AIzaSyBXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX';
```

### BÆ°á»›c 4: LÆ°u file

---

## ğŸš€ TEST AI FEEDBACK

### BÆ°á»›c 1: Upload index.html

### BÆ°á»›c 2: Hard Refresh
```
Ctrl + Shift + R
```

### BÆ°á»›c 3: LÃ m bÃ i test
```
1. Chá»n HSK 1-2
2. LÃ m Pháº§n 1, 2 nhanh (cÃ³ thá»ƒ Ä‘Ã¡p Ã¡n bá»«a)
3. Pháº§n 3: VIáº¾T BÃ€I Tá»° LUáº¬N (quan trá»ng!)
   - Viáº¿t Ã­t nháº¥t 50-100 tá»«
   - Vá» chá»§ Ä‘á» cá»§a Ä‘á» bÃ i
```

### BÆ°á»›c 4: Ná»™p bÃ i

### BÆ°á»›c 5: Xem káº¿t quáº£

**PHáº¢I THáº¤Y:**
```
1. Spiral binding xanh lÃ¡ âœ…
2. Logo IC âœ…
3. ThÃ´ng tin: TÃªn, trÃ¬nh Ä‘á»™, thá»i gian âœ…
4. Grid 10 cÃ¢u vá»›i âœ“/âœ• âœ…
5. Pháº§n AI Feedback:
   - Loading spinner
   - "Äang phÃ¢n tÃ­ch..."
   - Sau 3-5 giÃ¢y â†’ Nháº­n xÃ©t AI hiá»ƒn thá»‹ âœ…
```

---

## ğŸ“Š AI FEEDBACK Sáº¼ BAO Gá»’M

### Nháº­n xÃ©t vá»:
1. **Ná»™i dung:** CÃ³ tráº£ lá»i Ä‘Ãºng Ä‘á» bÃ i khÃ´ng?
2. **Ngá»¯ phÃ¡p:** Lá»—i gÃ¬? Sá»­a tháº¿ nÃ o?
3. **Tá»« vá»±ng:** PhÃ¹ há»£p khÃ´ng? Äa dáº¡ng khÃ´ng?
4. **Cáº¥u trÃºc cÃ¢u:** RÃµ rÃ ng khÃ´ng?
5. **Äiá»ƒm máº¡nh:** Nhá»¯ng gÃ¬ lÃ m tá»‘t
6. **Äiá»ƒm cáº§n cáº£i thiá»‡n:** NÃªn sá»­a gÃ¬
7. **Gá»£i Ã½:** CÃ¡ch cáº£i thiá»‡n bÃ i viáº¿t

**Äá»™ dÃ i:** 200-300 tá»«, thÃ¢n thiá»‡n, khÃ­ch lá»‡

---

## ğŸ”’ Báº¢O Máº¬T API KEY

### âš ï¸ LÆ¯U Ã QUAN TRá»ŒNG:

**KHÃ”NG nÃªn Ä‘á»ƒ API key trong code frontend!**

VÃ¬ user cÃ³ thá»ƒ:
1. View source â†’ Tháº¥y API key
2. DÃ¹ng API key cá»§a báº¡n
3. Háº¿t quota cá»§a báº¡n

### Giáº£i phÃ¡p tá»‘t hÆ¡n:

#### CÃ¡ch 1: Sá»­ dá»¥ng Supabase Edge Functions (KHUYÃŠN DÃ™NG)
```javascript
// Táº¡o Supabase Edge Function
// File: supabase/functions/ai-feedback/index.ts

import { serve } from 'https://deno.land/std@0.168.0/http/server.ts'

serve(async (req) => {
  const { essay, prompt } = await req.json()
  
  const GEMINI_API_KEY = Deno.env.get('GEMINI_API_KEY') // LÆ°u trong Supabase secrets
  
  const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=${GEMINI_API_KEY}`, {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({
      contents: [{
        parts: [{ text: `...prompt...` }]
      }]
    })
  })
  
  const data = await response.json()
  return new Response(JSON.stringify(data), {
    headers: { 'Content-Type': 'application/json' }
  })
})
```

Rá»“i trong index.html:
```javascript
// Gá»i Edge Function thay vÃ¬ trá»±c tiáº¿p
const response = await fetch('https://your-project.supabase.co/functions/v1/ai-feedback', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json',
        'Authorization': `Bearer ${supabaseAnonKey}`
    },
    body: JSON.stringify({ essay, prompt })
});
```

#### CÃ¡ch 2: Giá»›i háº¡n domain
```
VÃ o Google Cloud Console
â†’ API Credentials
â†’ Edit API Key
â†’ Application restrictions: HTTP referrers
â†’ ThÃªm: yourdomain.com/*
```

#### CÃ¡ch 3: Táº¡m thá»i (Äá»ƒ test)
```
Äá»ƒ API key trong code
Test thá»­
Sau Ä‘Ã³ migrate sang Edge Function
```

---

## ğŸ§ª TEST

### Test 1: KhÃ´ng cÃ³ API key
```
Náº¿u chÆ°a cÃ³ key:
â†’ Hiá»ƒn thá»‹: "âš ï¸ KhÃ´ng thá»ƒ láº¥y nháº­n xÃ©t AI"
â†’ User váº«n tháº¥y káº¿t quáº£ bÃ i thi
â†’ Chá»‰ khÃ´ng cÃ³ pháº§n AI feedback
```

### Test 2: CÃ³ API key
```
1. Viáº¿t bÃ i tá»± luáº­n (50-100 tá»«)
2. Ná»™p bÃ i
3. Xem káº¿t quáº£
4. Tháº¥y "Äang phÃ¢n tÃ­ch..." (3-5s)
5. Tháº¥y nháº­n xÃ©t AI Ä‘áº§y Ä‘á»§ âœ…
```

### Test 3: API Error
```
Náº¿u API lá»—i (quota háº¿t, key sai):
â†’ Hiá»ƒn thá»‹ thÃ´ng bÃ¡o lá»—i
â†’ User váº«n tháº¥y káº¿t quáº£
â†’ LiÃªn há»‡ giÃ¡o viÃªn Ä‘á»ƒ Ä‘Ã¡nh giÃ¡
```

---

## ğŸ’° GIÃ Cáº¢ GEMINI API

### Free tier:
- âœ… 60 requests/phÃºt
- âœ… Äá»§ cho háº§u háº¿t trÆ°á»ng há»£p
- âœ… KhÃ´ng cáº§n credit card

### Náº¿u cáº§n nhiá»u hÆ¡n:
- Pay as you go
- $0.00025 / 1K characters

**Cho á»©ng dá»¥ng placement test: FREE tier Ä‘á»§!**

---

## ğŸ“‹ CHECKLIST

- [ ] Láº¥y Gemini API key tá»« Google AI Studio
- [ ] Thay tháº¿ 'YOUR_GEMINI_API_KEY_HERE' trong code
- [ ] Upload index.html
- [ ] Cháº¡y SQL: ALTER TABLE test_results ALTER COLUMN selected_level TYPE TEXT
- [ ] Hard refresh: Ctrl + Shift + R
- [ ] Test lÃ m bÃ i (nhá»› viáº¿t bÃ i tá»± luáº­n)
- [ ] Ná»™p bÃ i
- [ ] Xem káº¿t quáº£:
  - [ ] Spiral binding Ä‘áº¹p
  - [ ] Grid 10 cÃ¢u âœ“/âœ•
  - [ ] AI feedback hiá»ƒn thá»‹
  - [ ] KhÃ´ng cÃ³ lá»—i

---

## ğŸ¨ GIAO DIá»†N Má»šI

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â—â—â—â—â—â—â—â—â—â—â—â—â—â— (spiral binding)    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [IC]                               â”‚
â”‚                                     â”‚
â”‚  CHÃšC Má»ªNG Báº N ÄÃƒ HOÃ€N THÃ€NH      â”‚
â”‚                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ Há» tÃªn: Nguyá»…n VÄƒn A       â”‚    â”‚
â”‚ â”‚ TrÃ¬nh Ä‘á»™: HSK 1-2          â”‚    â”‚
â”‚ â”‚ Thá»i gian: 18:32           â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                     â”‚
â”‚ Báº¡n Ä‘Ã£ nháº­n Ä‘Æ°á»£c 8 Ä‘iá»ƒm...         â”‚
â”‚                                     â”‚
â”‚ Sá»‘ Ä‘Ã¡p Ã¡n Ä‘Ãºng: 8/10               â”‚
â”‚                                     â”‚
â”‚ [1âœ“] [2âœ•] [3âœ“] [4âœ“] [5âœ•]         â”‚
â”‚ [6âœ“] [7âœ•] [8âœ“] [9âœ“] [10âœ•]        â”‚
â”‚                                     â”‚
â”‚ ğŸ¤– Nháº­n xÃ©t AI cho bÃ i viáº¿t        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ BÃ i viáº¿t cá»§a báº¡n...         â”‚    â”‚
â”‚ â”‚ Ngá»¯ phÃ¡p: ...               â”‚    â”‚
â”‚ â”‚ Tá»« vá»±ng: ...                â”‚    â”‚
â”‚ â”‚ Gá»£i Ã½: ...                  â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                     â”‚
â”‚        [HoÃ n táº¥t]                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Káº¾T QUáº¢

```
âœ… Result page Ä‘áº¹p, chuyÃªn nghiá»‡p
âœ… Hiá»ƒn thá»‹ chi tiáº¿t tá»«ng cÃ¢u
âœ… AI feedback tá»± Ä‘á»™ng
âœ… UX tá»‘t, trá»±c quan
âœ… Mobile responsive
```

---

## ğŸ“ Há»– TRá»¢

**Náº¿u cáº§n giÃºp láº¥y API key hoáº·c setup:**
1. Xem video: https://ai.google.dev/tutorials/setup
2. Hoáº·c há»i tÃ´i chi tiáº¿t hÆ¡n

**Náº¿u muá»‘n dÃ¹ng Edge Function:**
- TÃ´i cÃ³ thá»ƒ táº¡o code Edge Function
- An toÃ n hÆ¡n
- KhÃ´ng lá»™ API key

---

**Láº¥y API key vÃ  thay vÃ o code, upload vÃ  test ngay!** ğŸš€
