<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Placement Test</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Nunito', 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #1e7e5f 0%, #0d5943 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px 30px;
            border-radius: 10px;
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            color: white;
            font-size: 24px;
            font-weight: bold;
            letter-spacing: 2px;
        }

        .support-btn {
            background: #ffd700;
            color: #0d5943;
            padding: 10px 25px;
            border-radius: 25px;
            font-weight: bold;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .hero-banner {
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 300"><rect fill="%231e7e5f" width="1200" height="300"/></svg>');
            background-size: cover;
            text-align: center;
            padding: 40px 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .hero-title {
            font-size: 48px;
            font-weight: 900;
            color: white;
            text-transform: uppercase;
            margin-bottom: 10px;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.3);
        }

        .hero-title .easy {
            font-style: italic;
            color: #ffd700;
        }

        .hero-title .placement {
            color: #ff9800;
        }

        .hero-subtitle {
            background: white;
            color: #0d5943;
            font-size: 32px;
            font-weight: 900;
            padding: 10px 40px;
            display: inline-block;
            border-radius: 50px;
            margin-top: 10px;
        }

        .main-content {
            background: #fef8e6;
            border-radius: 20px;
            padding: 50px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            position: relative;
        }

        .decorative-lights {
            position: absolute;
            top: -20px;
            left: 0;
            right: 0;
            height: 40px;
            background: repeating-linear-gradient(90deg, 
                #ff6b6b 0px, #ff6b6b 20px, transparent 20px, transparent 25px,
                #4ecdc4 25px, #4ecdc4 45px, transparent 45px, transparent 50px,
                #ffe66d 50px, #ffe66d 70px, transparent 70px, transparent 75px,
                #a8e6cf 75px, #a8e6cf 95px, transparent 95px, transparent 100px
            );
            border-radius: 20px 20px 0 0;
        }

        .info-section {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 40px;
            border-left: 5px solid #1e7e5f;
        }

        .info-icon {
            font-size: 48px;
            float: left;
            margin-right: 20px;
            color: #1e7e5f;
        }

        .info-text {
            color: #333;
            line-height: 1.8;
            font-size: 16px;
        }

        .info-text strong {
            color: #1e7e5f;
        }

        .info-list {
            list-style: none;
            margin-top: 20px;
        }

        .info-list li {
            padding: 10px 0;
            padding-left: 30px;
            position: relative;
        }

        .info-list li:before {
            content: "✓";
            position: absolute;
            left: 0;
            color: #4caf50;
            font-weight: bold;
            font-size: 18px;
        }

        .form-section {
            background: white;
            padding: 40px;
            border-radius: 15px;
            margin-top: 30px;
        }

        .form-title {
            text-align: center;
            color: #0d5943;
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 30px;
            text-transform: uppercase;
        }

        .form-row {
            display: block;
        }

        .form-group {
            margin-bottom: 20px;
            position: relative;
        }

        .form-group label {
            display: block;
            color: #666;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .form-group input {
            width: 100%;
            padding: 15px 45px 15px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s;
        }

        .form-group input:focus {
            outline: none;
            border-color: #1e7e5f;
            box-shadow: 0 0 0 3px rgba(30, 126, 95, 0.1);
        }

        .form-group input.error {
            border-color: #f44336;
        }

        .form-group input.valid {
            border-color: #4caf50;
        }

        .check-icon {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #4caf50;
            font-size: 20px;
            display: none;
            margin-top: 12px;
        }

        .check-icon.show {
            display: block;
        }

        .error-message {
            color: #f44336;
            font-size: 12px;
            margin-top: 5px;
            display: none;
        }

        .error-message.show {
            display: block;
        }

        .submit-btn {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #7cb342 0%, #558b2f 100%);
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        }

        .submit-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .illustration {
            position: absolute;
            right: 50px;
            bottom: 50px;
            width: 250px;
            opacity: 0.9;
        }

        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal-overlay.show {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 20px;
            padding: 40px;
            max-width: 500px;
            width: 90%;
            position: relative;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            animation: modalSlideIn 0.3s ease-out;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            font-size: 28px;
            cursor: pointer;
            color: #666;
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.3s;
        }

        .modal-close:hover {
            background: #f0f0f0;
            color: #333;
        }

        .modal-illustration {
            text-align: center;
            margin-bottom: 20px;
        }

        .modal-text {
            text-align: center;
            color: #333;
            line-height: 1.8;
            margin-bottom: 25px;
        }

        .modal-text p {
            margin-bottom: 10px;
        }

        .modal-phone {
            color: #e91e63;
            font-weight: bold;
        }

        .modal-buttons {
            display: flex;
            gap: 15px;
        }

        .modal-btn {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 50px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .modal-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .modal-btn.secondary {
            background: #ff9800;
            color: white;
        }

        .modal-btn.secondary:hover:not(:disabled) {
            background: #f57c00;
            transform: translateY(-2px);
        }

        .modal-btn.primary {
            background: #7cb342;
            color: white;
        }

        .modal-btn.primary:hover:not(:disabled) {
            background: #689f38;
            transform: translateY(-2px);
        }

        .instructions-page {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, #1e7e5f 0%, #0d5943 100%);
            z-index: 3000;
            overflow-y: auto;
            padding: 20px;
        }

        .instructions-page.show {
            display: block;
        }

        .main-page {
            transition: opacity 0.3s;
        }

        .main-page.hide {
            display: none;
        }

        .instructions-container {
            max-width: 900px;
            margin: 50px auto;
            padding-bottom: 50px;
        }

        .instructions-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .instructions-logo {
            color: white;
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 20px;
            font-style: italic;
        }

        .instructions-banner {
            background: linear-gradient(135deg, #4a9eff 0%, #1976d2 100%);
            border-radius: 20px;
            padding: 30px 20px;
            position: relative;
            overflow: visible;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            margin-bottom: -30px;
        }

        .banner-title {
            font-size: 64px;
            font-weight: 900;
            color: #ffa500;
            text-transform: uppercase;
            margin: 0;
            text-shadow: 4px 4px 8px rgba(0,0,0,0.3);
            position: relative;
            z-index: 1;
            line-height: 1;
        }

        .banner-subtitle {
            background: white;
            color: #0d5943;
            font-size: 40px;
            font-weight: 900;
            padding: 12px 60px;
            display: inline-block;
            border-radius: 50px;
            position: relative;
            z-index: 1;
            margin-top: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .instructions-content {
            background: #fef8e6;
            border-radius: 20px;
            padding: 50px 40px;
            position: relative;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            margin-top: 0;
        }

        .instructions-title {
            text-align: center;
            color: #0d5943;
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 30px;
            text-transform: uppercase;
            padding-top: 20px;
        }

        .instruction-item {
            background: white;
            padding: 20px 25px;
            border-radius: 12px;
            margin-bottom: 15px;
            display: flex;
            align-items: flex-start;
            gap: 15px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }

        .instruction-item:hover {
            transform: translateX(5px);
        }

        .instruction-icon {
            width: 30px;
            height: 30px;
            background: #7cb342;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            flex-shrink: 0;
        }

        .instruction-text {
            color: #333;
            line-height: 1.6;
            flex: 1;
        }

        .instruction-text strong {
            color: #1e7e5f;
            font-weight: bold;
        }

        .start-test-btn {
            width: 100%;
            max-width: 300px;
            margin: 40px auto 0;
            display: block;
            padding: 20px;
            background: linear-gradient(135deg, #7cb342 0%, #558b2f 100%);
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 20px;
            font-weight: bold;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .start-test-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.4);
        }

        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* TEST PAGE STYLES */
        .test-page {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: #1e7e5f;
            z-index: 3000;
            overflow-y: auto;
        }

        .test-page.show {
            display: block;
        }

        .test-container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            padding-bottom: 50px;
        }

        .test-header {
            background: #fef8e6;
            border-radius: 15px 15px 0 0;
            padding: 15px 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: relative;
        }

        .test-header::before {
            content: '';
            position: absolute;
            top: -15px;
            left: 0;
            right: 0;
            height: 20px;
            background: repeating-linear-gradient(90deg, 
                #ff6b6b 0px, #ff6b6b 15px, transparent 15px, transparent 20px,
                #4ecdc4 20px, #4ecdc4 35px, transparent 35px, transparent 40px,
                #ffe66d 40px, #ffe66d 55px, transparent 55px, transparent 60px,
                #a8e6cf 60px, #a8e6cf 75px, transparent 75px, transparent 80px
            );
            border-radius: 10px 10px 0 0;
        }

        .question-progress {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .progress-counter {
            font-size: 20px;
            font-weight: bold;
            color: #0d5943;
        }

        .progress-circles {
            display: flex;
            gap: 6px;
        }

        .progress-row {
            display: flex;
            gap: 6px;
        }

        .circle {
            width: 25px;
            height: 25px;
            border-radius: 50%;
            border: 2px solid #ccc;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 11px;
            color: #999;
            transition: all 0.3s;
        }

        .circle.answered {
            background: #4caf50;
            border-color: #4caf50;
            color: white;
        }

        .circle.active {
            background: #ffd700;
            border-color: #ffd700;
            color: #333;
            transform: scale(1.15);
            font-weight: bold;
        }

        .timer-section {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .timer-icon {
            width: 35px;
            height: 35px;
            background: #ffd700;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .timer-display {
            font-size: 22px;
            font-weight: bold;
            color: #0d5943;
        }

        .question-card {
            background: #fef8e6;
            padding: 40px;
            min-height: 400px;
        }

        .question-header {
            font-size: 18px;
            font-weight: bold;
            color: #0d5943;
            margin-bottom: 25px;
        }

        .question-text {
            font-size: 17px;
            color: #333;
            line-height: 1.8;
            margin-bottom: 25px;
        }

        .audio-player {
            margin: 25px 0;
            display: none;
        }

        .audio-player audio {
            width: 100%;
            max-width: 500px;
        }

        .options-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-top: 30px;
        }

        .option-item {
            background: white;
            border: 3px solid #e0e0e0;
            border-radius: 12px;
            padding: 15px 20px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .option-item:hover {
            border-color: #7cb342;
            background: #f1f8e9;
        }

        .option-item.selected {
            border-color: #4caf50;
            background: #e8f5e9;
        }

        .option-label {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            background: #e0e0e0;
            color: #666;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 16px;
            flex-shrink: 0;
            transition: all 0.3s;
        }

        .option-item.selected .option-label {
            background: #4caf50;
            color: white;
        }

        .option-text {
            flex: 1;
            font-size: 16px;
            color: #333;
        }

        .question-nav {
            background: #fef8e6;
            border-radius: 0 0 15px 15px;
            padding: 20px 40px;
            display: flex;
            justify-content: space-between;
            gap: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .nav-button {
            padding: 12px 35px;
            border: none;
            border-radius: 25px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .nav-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .btn-prev {
            background: #9e9e9e;
            color: white;
        }

        .btn-prev:hover:not(:disabled) {
            background: #757575;
        }

        .btn-next {
            background: #2196f3;
            color: white;
        }

        .btn-next:hover:not(:disabled) {
            background: #1976d2;
        }

        .btn-submit {
            background: #ff6b6b;
            color: white;
            flex: 1;
            max-width: 200px;
        }

        .btn-submit:hover:not(:disabled) {
            background: #ee5a6f;
            transform: translateY(-2px);
        }

        /* RESULT PAGE STYLES */
        .result-page {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, #1e7e5f 0%, #0d5943 100%);
            z-index: 3000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .result-page.show {
            display: flex;
        }

        .result-container {
            max-width: 600px;
            width: 100%;
            background: white;
            border-radius: 20px;
            padding: 50px;
            text-align: center;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            animation: resultSlideIn 0.5s ease-out;
        }

        @keyframes resultSlideIn {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .result-icon {
            font-size: 80px;
            margin-bottom: 20px;
        }

        .result-title {
            font-size: 32px;
            font-weight: bold;
            color: #0d5943;
            margin-bottom: 30px;
        }

        .score-display {
            font-size: 64px;
            font-weight: 900;
            color: #4caf50;
            margin-bottom: 20px;
        }

        .level-badge {
            font-size: 24px;
            font-weight: bold;
            color: #1e7e5f;
            margin-bottom: 20px;
            padding: 15px 30px;
            background: #e8f5e9;
            border-radius: 50px;
            display: inline-block;
        }

        .result-message {
            font-size: 18px;
            color: #666;
            line-height: 1.8;
            margin-bottom: 30px;
        }

        .finish-button {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #7cb342 0%, #558b2f 100%);
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .finish-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        }

        .review-section {
            margin: 30px 0;
            background: #f5f5f5;
            padding: 20px;
            border-radius: 15px;
        }

        .review-title {
            font-size: 18px;
            font-weight: bold;
            color: #0d5943;
            margin-bottom: 15px;
            text-align: center;
        }

        .answer-grid {
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }

        .answer-number {
            width: 100%;
            aspect-ratio: 1;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            border: 2px solid transparent;
        }

        .answer-number.correct {
            background: #4caf50;
            color: white;
        }

        .answer-number.wrong {
            background: #f44336;
            color: white;
        }

        .answer-number.unanswered {
            background: #9e9e9e;
            color: white;
        }

        .answer-number:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }

        .answer-number::after {
            content: attr(data-icon);
            position: absolute;
            bottom: -2px;
            right: -2px;
            font-size: 12px;
        }

        .close-review-btn {
            width: 100%;
            padding: 12px;
            background: #ff9800;
            color: white;
            border: none;
            border-radius: 25px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 15px;
        }

        .close-review-btn:hover {
            background: #f57c00;
            transform: translateY(-2px);
        }

        .review-popup {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            z-index: 4000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .review-popup.show {
            display: flex;
        }

        .review-popup-content {
            background: white;
            border-radius: 20px;
            padding: 30px;
            max-width: 700px;
            width: 100%;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            animation: popupSlideIn 0.3s ease-out;
        }

        @keyframes popupSlideIn {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .popup-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: #f44336;
            color: white;
            border: none;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            font-size: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .popup-close:hover {
            background: #d32f2f;
            transform: rotate(90deg);
        }

        .popup-question-num {
            font-size: 20px;
            font-weight: bold;
            color: #0d5943;
            margin-bottom: 20px;
        }

        .popup-question-text {
            font-size: 17px;
            color: #333;
            line-height: 1.8;
            margin-bottom: 20px;
            padding: 15px;
            background: #f5f5f5;
            border-radius: 10px;
        }

        .popup-audio {
            margin: 20px 0;
        }

        .popup-audio audio {
            width: 100%;
        }

        .popup-options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .popup-option {
            padding: 15px 20px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            gap: 12px;
            border: 2px solid #e0e0e0;
        }

        .popup-option.correct-answer {
            background: #e8f5e9;
            border-color: #4caf50;
        }

        .popup-option.user-wrong {
            background: #ffebee;
            border-color: #f44336;
        }

        .popup-option.user-correct {
            background: #e8f5e9;
            border-color: #4caf50;
        }

        .option-badge {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 14px;
            flex-shrink: 0;
        }

        .popup-option.correct-answer .option-badge {
            background: #4caf50;
            color: white;
        }

        .popup-option.user-wrong .option-badge {
            background: #f44336;
            color: white;
        }

        .popup-option .option-badge {
            background: #e0e0e0;
            color: #666;
        }

        .option-label-text {
            flex: 1;
            font-size: 15px;
            color: #333;
        }

        .answer-indicator {
            font-size: 13px;
            font-weight: bold;
            padding: 4px 10px;
            border-radius: 12px;
            white-space: nowrap;
        }

        .popup-option.correct-answer .answer-indicator {
            background: #4caf50;
            color: white;
        }

        .popup-option.user-wrong .answer-indicator {
            background: #f44336;
            color: white;
        }

        .popup-option.user-correct .answer-indicator {
            background: #4caf50;
            color: white;
        }

        .popup-nav {
            display: flex;
            gap: 10px;
            margin-top: 25px;
        }

        .popup-nav-btn {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 25px;
            font-size: 15px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .popup-nav-btn.prev {
            background: #9e9e9e;
            color: white;
        }

        .popup-nav-btn.next {
            background: #2196f3;
            color: white;
        }

        .popup-nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .popup-nav-btn:hover:not(:disabled) {
            transform: translateY(-2px);
        }

        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            header {
                padding: 12px 20px;
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }

            .logo {
                font-size: 20px;
            }

            .hero-title {
                font-size: 32px;
            }

            .hero-subtitle {
                font-size: 24px;
                padding: 8px 25px;
            }

            .main-content {
                padding: 30px 20px;
            }

            .info-icon {
                float: none;
                display: block;
                margin-bottom: 15px;
                margin-right: 0;
                text-align: center;
            }

            .form-section {
                padding: 25px 20px;
            }

            .form-title {
                font-size: 20px;
            }

            .illustration {
                display: none;
            }

            .banner-title {
                font-size: 36px;
            }

            .banner-subtitle {
                font-size: 24px;
                padding: 8px 30px;
            }

            .modal-buttons {
                flex-direction: column;
            }

            .test-container {
                padding: 10px;
            }

            .test-header {
                flex-direction: column;
                gap: 15px;
                padding: 15px;
            }

            .question-progress {
                flex-direction: column;
                gap: 10px;
            }

            .progress-circles {
                flex-direction: column;
            }

            .question-card {
                padding: 25px 20px;
            }

            .question-nav {
                flex-direction: column;
                padding: 20px;
            }

            .nav-button {
                width: 100%;
            }

            .btn-submit {
                max-width: 100%;
            }

            .result-container {
                padding: 30px 20px;
            }

            .score-display {
                font-size: 48px;
            }
        }
    </style>
</head>
<body>
    <div class="container main-page" id="mainPage">
        <header>
            <div class="logo">Aloha</div>
            <button class="support-btn">Hỗ trợ khẩn cấp</button>
        </header>

        <div class="hero-banner">
            <h1 class="hero-title">
                <span class="easy">test</span><br>
                <span class="placement">PLACEMENT</span>
            </h1>
            <div class="hero-subtitle">TEST</div>
        </div>

        <div class="main-content">
            <div class="decorative-lights"></div>

            <div class="info-section">
                <div class="info-icon">📝</div>
                <div class="info-text">
                    <p><strong>Test</strong> được phát triển độc quyền bởi <strong>Aloha</strong> và được giảng dạy trên nền tảng trực tuyến, giúp phát triển khả năng giao tiếp Tiếng Anh đồng thời bổ trợ kỹ năng Speaking cho các chứng chỉ Tiếng Anh quốc tế. Chương trình đặc biệt phù hợp với học viên có nhu cầu tăng phản xạ giao tiếp trong các bối cảnh đời sống, công việc và học thuật.</p>
                    
                    <ul class="info-list">
                        <li><strong>Placement Test</strong> là bài kiểm tra xác định trình độ đầu vào của học viên, từ đó xây dựng lộ trình học phù hợp và hiệu quả với từng cá nhân.</li>
                        <li>Bài kiểm tra sẽ diễn ra trong vòng <strong>20 phút</strong>, để việc xác định trình độ đầu vào được chính xác hơn, vui lòng điền đầy đủ thông tin dưới đây và đọc kỹ hướng dẫn trước khi bắt đầu làm bài.</li>
                    </ul>
                </div>
            </div>

            <div class="form-section">
                <h2 class="form-title">Nhập thông tin để bắt đầu bài kiểm tra</h2>
                
                <form id="placementForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label>* Họ và tên: (Ví dụ: Nguyễn Văn An)</label>
                            <input type="text" name="fullname" id="fullname" required placeholder="Nhập họ và tên đầy đủ">
                            <span class="check-icon" id="fullnameCheck">✓</span>
                            <div class="error-message" id="fullnameError">Vui lòng nhập họ và tên đầy đủ</div>
                        </div>
                        <div class="form-group">
                            <label>Tuổi (không bắt buộc)</label>
                            <input type="number" name="age" id="age" placeholder="Nhập tuổi của bạn" min="1" max="120">
                            <span class="check-icon" id="ageCheck">✓</span>
                            <div class="error-message" id="ageError">Tuổi phải từ 1 đến 120</div>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>* Số điện thoại</label>
                            <input type="tel" name="phone" id="phone" required placeholder="Nhập số điện thoại">
                            <span class="check-icon" id="phoneCheck">✓</span>
                            <div class="error-message" id="phoneError">Số điện thoại phải có 10-11 chữ số</div>
                        </div>
                        <div class="form-group">
                            <label>* Email</label>
                            <input type="email" name="email" id="email" required placeholder="Nhập email của bạn">
                            <span class="check-icon" id="emailCheck">✓</span>
                            <div class="error-message" id="emailError">Email không đúng định dạng (ví dụ: example@email.com)</div>
                        </div>
                    </div>

                    <button type="submit" class="submit-btn">ĐI TỚI BÀI THI</button>
                </form>
            </div>

            <div class="illustration">
                <svg viewBox="0 0 200 250" xmlns="http://www.w3.org/2000/svg">
                    <ellipse cx="100" cy="200" rx="60" ry="20" fill="#7cb342" opacity="0.3"/>
                    <circle cx="100" cy="100" r="40" fill="#fdd5b1"/>
                    <circle cx="85" cy="100" r="3" fill="#333"/>
                    <circle cx="115" cy="100" r="3" fill="#333"/>
                    <path d="M 85 115 Q 100 125 115 115" stroke="#333" stroke-width="2" fill="none"/>
                    <path d="M 60 70 Q 100 50 140 70" fill="#2c2c2c"/>
                    <rect x="70" y="140" width="60" height="60" rx="10" fill="#7cb342"/>
                </svg>
            </div>
        </div>

        <div class="modal-overlay" id="modalOverlay">
            <div class="modal-content">
                <button class="modal-close" id="modalClose">×</button>
                
                <div class="modal-illustration">
                    <svg width="150" height="150" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="100" cy="80" r="50" fill="#7cb342"/>
                        <circle cx="100" cy="80" r="40" fill="#fdd5b1"/>
                        <circle cx="85" cy="75" r="3" fill="#333"/>
                        <circle cx="115" cy="75" r="3" fill="#333"/>
                        <path d="M 85 90 Q 100 100 115 90" stroke="#333" stroke-width="2" fill="none"/>
                    </svg>
                </div>

                <div class="modal-text">
                    <p>Chúng tôi sẽ thông báo kết quả kiểm tra năng lực qua SDT và Email.</p>
                    <p>Bạn có chắc chắn <span class="modal-phone" id="modalPhone">0987654321</span> là số của bạn</p>
                </div>

                <div class="modal-buttons">
                    <button class="modal-btn secondary" id="btnChangePhone">Số của tôi là số khác</button>
                    <button class="modal-btn primary" id="btnConfirm">Xác nhận</button>
                </div>
            </div>
        </div>
    </div>

    <div class="instructions-page" id="instructionsPage">
        <div class="instructions-container">
            <div class="instructions-header">
                <div class="instructions-logo">easy-SPEAK</div>
                
                <div class="instructions-banner">
                    <div class="banner-title">PLACEMENT</div>
                    <div class="banner-subtitle">TEST</div>
                </div>
            </div>

            <div class="instructions-content">
                <h2 class="instructions-title">Hướng dẫn làm bài</h2>

                <div class="instruction-item">
                    <div class="instruction-icon">🌱</div>
                    <div class="instruction-text">
                        Thí sinh làm lần lượt <strong>20 câu hỏi</strong> kiểm tra kiến thức về Từ vựng, Ngữ pháp, kỹ năng Nghe và Đọc trong thời gian <strong>20 phút</strong>.
                    </div>
                </div>

                <div class="instruction-item">
                    <div class="instruction-icon">📝</div>
                    <div class="instruction-text">
                        Với mỗi câu trả lời đúng, thí sinh nhận được <strong>1 điểm</strong>. Trả lời sai không bị trừ điểm. Tổng điểm tối đa thí sinh có thể đạt được là <strong>20 điểm</strong>.
                    </div>
                </div>

                <div class="instruction-item">
                    <div class="instruction-icon">⏸️</div>
                    <div class="instruction-text">
                        Sau khi bấm "<strong>NỘP BÀI</strong>", thí sinh không thể làm lại bài thi.
                    </div>
                </div>

                <div class="instruction-item">
                    <div class="instruction-icon">📧</div>
                    <div class="instruction-text">
                        Thí sinh sẽ được nhận kết quả thi ngay sau khi hoàn thành bài thi.
                    </div>
                </div>

                <div class="instruction-item">
                    <div class="instruction-icon">▶️</div>
                    <div class="instruction-text">
                        Ấn "<strong>BẮT ĐẦU</strong>" để vào làm bài.
                    </div>
                </div>

                <button class="start-test-btn" id="startTestBtn">BẮT ĐẦU</button>
            </div>
        </div>
    </div>

    <div class="test-page" id="testPage">
        <div class="test-container">
            <div class="test-header">
                <div class="question-progress">
                    <div class="progress-counter" id="questionCounter">0/20</div>
                    <div class="progress-circles">
                        <div class="progress-row">
                            <div class="circle">1</div>
                            <div class="circle">2</div>
                            <div class="circle">3</div>
                            <div class="circle">4</div>
                            <div class="circle">5</div>
                            <div class="circle">6</div>
                            <div class="circle">7</div>
                            <div class="circle">8</div>
                            <div class="circle">9</div>
                            <div class="circle">10</div>
                        </div>
                        <div class="progress-row">
                            <div class="circle">11</div>
                            <div class="circle">12</div>
                            <div class="circle">13</div>
                            <div class="circle">14</div>
                            <div class="circle">15</div>
                            <div class="circle">16</div>
                            <div class="circle">17</div>
                            <div class="circle">18</div>
                            <div class="circle">19</div>
                            <div class="circle">20</div>
                        </div>
                    </div>
                </div>
                <div class="timer-section">
                    <div class="timer-icon">⏱️</div>
                    <div class="timer-display" id="timerDisplay">19:56</div>
                </div>
            </div>

            <div class="question-card">
                <div class="question-header" id="questionHeader">1. Choose the correct answer</div>
                <div class="question-text" id="questionText">
                    It's windy outside. You should take a _______ with you.
                </div>

                <div class="audio-player" id="audioPlayer">
                    <!-- Audio will be inserted here -->
                </div>

                <div class="options-list">
                    <div class="option-item" data-option="A">
                        <div class="option-label">A</div>
                        <div class="option-text" id="optionA">coat</div>
                    </div>
                    <div class="option-item" data-option="B">
                        <div class="option-label">B</div>
                        <div class="option-text" id="optionB">dress</div>
                    </div>
                    <div class="option-item" data-option="C">
                        <div class="option-label">C</div>
                        <div class="option-text" id="optionC">T-shirt</div>
                    </div>
                </div>
            </div>

            <div class="question-nav">
                <button class="nav-button btn-prev" id="btnPrev">← Câu trước</button>
                <button class="nav-button btn-submit" id="btnSubmit">NỘP BÀI</button>
                <button class="nav-button btn-next" id="btnNext">Câu sau →</button>
            </div>
        </div>
    </div>

    <div class="result-page" id="resultPage">
        <div class="result-container">
            <div class="result-icon">🎉</div>
            <h1 class="result-title">Hoàn thành bài test!</h1>
            
            <div class="score-display">
                <span id="finalScore">0</span>/<span id="totalQuestions">20</span>
            </div>

            <div class="level-badge" id="levelBadge">
                Beginner (A1)
            </div>

            <p class="result-message" id="resultMessage">
                Chúc mừng bạn đã hoàn thành bài kiểm tra!
            </p>

            <button class="finish-button" id="btnFinish">Hoàn tất</button>
        </div>
    </div>

    <script type="module">
        import { createClient } from "https://esm.sh/@supabase/supabase-js@2";

        // ===== SUPABASE CONFIG =====
        const SUPABASE_URL = "https://axllpuaybdzubfmsfkws.supabase.co";
        const SUPABASE_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF4bGxwdWF5YmR6dWJmbXNma3dzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk3NDMzODgsImV4cCI6MjA3NTMxOTM4OH0.KrjW79ZpnPxu_Lp9mETgKZU-kOLu3oMmWkABqOcDbco";
        const supabase = createClient(SUPABASE_URL, SUPABASE_KEY);

        let userRowId = null;
        let testQuestions = [];
        let userAnswers = {};
        let currentQuestionIndex = 0;
        let timerInterval = null;

        // ===== VALIDATION FUNCTIONS =====
        function validatePhone(phone) {
            const phoneRegex = /^[0-9]{10,11}$/;
            return phoneRegex.test(phone);
        }

        function validateEmail(email) {
            const emailRegex = /^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$/i;
            return emailRegex.test(email);
        }

        // ===== FORM VALIDATION =====
        document.getElementById('fullname').addEventListener('blur', function() {
            const input = this;
            const error = document.getElementById('fullnameError');
            const check = document.getElementById('fullnameCheck');
            if (input.value.trim().length < 3) {
                input.classList.add('error');
                input.classList.remove('valid');
                error.classList.add('show');
                check.classList.remove('show');
            } else {
                input.classList.remove('error');
                input.classList.add('valid');
                error.classList.remove('show');
                check.classList.add('show');
            }
        });

        document.getElementById('age').addEventListener('blur', function() {
            const input = this;
            const error = document.getElementById('ageError');
            const check = document.getElementById('ageCheck');
            const value = input.value.trim();

            if (value === '') {
                input.classList.remove('error');
                input.classList.add('valid');
                error.classList.remove('show');
                check.classList.add('show');
                return;
            }

            const age = parseInt(value);
            if (isNaN(age) || age < 1 || age > 120) {
                input.classList.add('error');
                input.classList.remove('valid');
                error.classList.add('show');
                check.classList.remove('show');
            } else {
                input.classList.remove('error');
                input.classList.add('valid');
                error.classList.remove('show');
                check.classList.add('show');
            }
        });

        document.getElementById('phone').addEventListener('input', function() {
            const input = this;
            const error = document.getElementById('phoneError');
            const check = document.getElementById('phoneCheck');
            if (input.value.length > 0 && !validatePhone(input.value)) {
                input.classList.add('error');
                input.classList.remove('valid');
                error.classList.add('show');
                check.classList.remove('show');
            } else if (validatePhone(input.value)) {
                input.classList.remove('error');
                input.classList.add('valid');
                error.classList.remove('show');
                check.classList.add('show');
            } else {
                input.classList.remove('error');
                input.classList.remove('valid');
                error.classList.remove('show');
                check.classList.remove('show');
            }
        });

        document.getElementById('email').addEventListener('input', function() {
            const input = this;
            const error = document.getElementById('emailError');
            const check = document.getElementById('emailCheck');
            if (input.value.length > 0 && !validateEmail(input.value)) {
                input.classList.add('error');
                input.classList.remove('valid');
                error.classList.add('show');
                check.classList.remove('show');
            } else if (validateEmail(input.value)) {
                input.classList.remove('error');
                input.classList.add('valid');
                error.classList.remove('show');
                check.classList.add('show');
            } else {
                input.classList.remove('error');
                input.classList.remove('valid');
                error.classList.remove('show');
                check.classList.remove('show');
            }
        });

        // ===== FORM SUBMIT =====
        document.getElementById('placementForm').addEventListener('submit', async function(e) {
            e.preventDefault();

            const fullname = document.getElementById('fullname').value.trim();
            const ageValue = document.getElementById('age').value.trim();
            const phone = document.getElementById('phone').value;
            const email = document.getElementById('email').value;

            let isValid = true;

            if (fullname.length < 3) {
                document.getElementById('fullname').classList.add('error');
                document.getElementById('fullnameError').classList.add('show');
                isValid = false;
            }

            if (ageValue !== '') {
                const age = parseInt(ageValue);
                if (isNaN(age) || age < 1 || age > 120) {
                    document.getElementById('age').classList.add('error');
                    document.getElementById('ageError').classList.add('show');
                    isValid = false;
                }
            }

            if (!validatePhone(phone)) {
                document.getElementById('phone').classList.add('error');
                document.getElementById('phoneError').classList.add('show');
                isValid = false;
            }

            if (!validateEmail(email)) {
                document.getElementById('email').classList.add('error');
                document.getElementById('emailError').classList.add('show');
                isValid = false;
            }

            if (!isValid) {
                alert('Vui lòng kiểm tra lại thông tin đã nhập!');
                return;
            }

            document.getElementById('modalPhone').textContent = phone;
            document.getElementById('modalOverlay').classList.add('show');
        });

        // ===== MODAL HANDLERS =====
        document.getElementById('modalClose').addEventListener('click', function() {
            document.getElementById('modalOverlay').classList.remove('show');
        });

        document.getElementById('btnChangePhone').addEventListener('click', function() {
            document.getElementById('modalOverlay').classList.remove('show');
            document.getElementById('phone').focus();
        });

        // ===== SUBMIT TO SUPABASE =====
        document.getElementById('btnConfirm').addEventListener('click', async function() {
            const btnConfirm = this;
            const btnChangePhone = document.getElementById('btnChangePhone');

            btnConfirm.disabled = true;
            btnChangePhone.disabled = true;
            btnConfirm.innerHTML = '<span class="loading-spinner"></span> Đang lưu...';

            const fullname = document.getElementById('fullname').value.trim();
            const ageValue = document.getElementById('age').value.trim();
            const phone = document.getElementById('phone').value;
            const email = document.getElementById('email').value;

            const { data, error } = await supabase
                .from('placement')
                .insert([{ fullname, age: ageValue ? parseInt(ageValue) : null, phone, email }])
                .select();

            if (error) {
                alert('Không thể lưu dữ liệu: ' + error.message);
                btnConfirm.disabled = false;
                btnChangePhone.disabled = false;
                btnConfirm.textContent = 'Xác nhận';
                return;
            }

            userRowId = data[0]?.id || Date.now();

            document.getElementById('modalOverlay').classList.remove('show');
            setTimeout(() => {
                document.getElementById('mainPage').classList.add('hide');
                document.getElementById('instructionsPage').classList.add('show');
            }, 300);
        });

        // ===== START TEST =====
        document.getElementById('startTestBtn').addEventListener('click', async function() {
            if (!userRowId) {
                alert('Lỗi: Không tìm thấy thông tin người dùng!');
                return;
            }

            const btn = this;
            btn.disabled = true;
            btn.innerHTML = '<span class="loading-spinner"></span> Đang tải câu hỏi...';

            try {
                const { data: questions, error } = await supabase
                    .from('questions')
                    .select('*')
                    .order('order_number');

                if (error) throw error;

                if (!questions || questions.length === 0) {
                    alert('Không tìm thấy câu hỏi. Vui lòng liên hệ quản trị viên.');
                    btn.disabled = false;
                    btn.textContent = 'BẮT ĐẦU';
                    return;
                }

                testQuestions = questions;
                userAnswers = {};
                currentQuestionIndex = 0;

                document.getElementById('instructionsPage').classList.remove('show');
                document.getElementById('testPage').classList.add('show');

                startTimer(20 * 60);
                displayQuestion(0);
            } catch (err) {
                alert('Lỗi khi tải câu hỏi: ' + err.message);
                btn.disabled = false;
                btn.textContent = 'BẮT ĐẦU';
            }
        });

        // ===== TIMER FUNCTIONS =====
        function startTimer(seconds) {
            let remaining = seconds;
            updateTimerDisplay(remaining);

            timerInterval = setInterval(() => {
                remaining--;
                updateTimerDisplay(remaining);

                if (remaining <= 0) {
                    clearInterval(timerInterval);
                    submitTest();
                }
            }, 1000);
        }

        function updateTimerDisplay(seconds) {
            const minutes = Math.floor(seconds / 60);
            const secs = seconds % 60;
            document.getElementById('timerDisplay').textContent = 
                `${String(minutes).padStart(2, '0')}:${String(secs).padStart(2, '0')}`;
        }

        // ===== DISPLAY QUESTION =====
        function displayQuestion(index) {
            const question = testQuestions[index];
            currentQuestionIndex = index;

            document.getElementById('questionCounter').textContent = `${index + 1}/20`;
            document.getElementById('questionHeader').textContent = `${index + 1}. Choose the correct answer`;
            document.getElementById('questionText').textContent = question.question_text;

            const audioPlayer = document.getElementById('audioPlayer');
            if (question.question_type === 'audio' && question.audio_url) {
                audioPlayer.innerHTML = `
                    <audio controls>
                        <source src="${question.audio_url}" type="audio/mpeg">
                        Trình duyệt của bạn không hỗ trợ phát audio.
                    </audio>
                `;
                audioPlayer.style.display = 'block';
            } else {
                audioPlayer.style.display = 'none';
            }

            document.getElementById('optionA').textContent = question.option_a;
            document.getElementById('optionB').textContent = question.option_b;
            document.getElementById('optionC').textContent = question.option_c;

            const savedAnswer = userAnswers[index];
            document.querySelectorAll('.option-item').forEach(item => {
                item.classList.remove('selected');
                if (item.dataset.option === savedAnswer) {
                    item.classList.add('selected');
                }
            });

            updateProgressCircles();
            updateNavButtons();
        }

        // ===== UPDATE PROGRESS CIRCLES =====
        function updateProgressCircles() {
            const circles = document.querySelectorAll('.circle');
            circles.forEach((circle, i) => {
                circle.classList.remove('active', 'answered');
                if (i === currentQuestionIndex) {
                    circle.classList.add('active');
                }
                if (userAnswers[i]) {
                    circle.classList.add('answered');
                }
            });
        }

        // ===== UPDATE NAV BUTTONS =====
        function updateNavButtons() {
            document.getElementById('btnPrev').disabled = currentQuestionIndex === 0;
            document.getElementById('btnNext').disabled = currentQuestionIndex === testQuestions.length - 1;
        }

        // ===== OPTION SELECTION =====
        document.querySelectorAll('.option-item').forEach(item => {
            item.addEventListener('click', function() {
                document.querySelectorAll('.option-item').forEach(opt => opt.classList.remove('selected'));
                this.classList.add('selected');
                userAnswers[currentQuestionIndex] = this.dataset.option;
                updateProgressCircles();
            });
        });

        // ===== NAVIGATION BUTTONS =====
        document.getElementById('btnPrev').addEventListener('click', function() {
            if (currentQuestionIndex > 0) {
                displayQuestion(currentQuestionIndex - 1);
            }
        });

        document.getElementById('btnNext').addEventListener('click', function() {
            if (currentQuestionIndex < testQuestions.length - 1) {
                displayQuestion(currentQuestionIndex + 1);
            }
        });

        document.getElementById('btnSubmit').addEventListener('click', function() {
            const answeredCount = Object.keys(userAnswers).length;
            const totalQuestions = testQuestions.length;

            if (answeredCount < totalQuestions) {
                if (!confirm(`Bạn mới trả lời ${answeredCount}/${totalQuestions} câu.\nBạn có chắc chắn muốn nộp bài?`)) {
                    return;
                }
            }

            submitTest();
        });

        // ===== SUBMIT TEST =====
        async function submitTest() {
            clearInterval(timerInterval);

            const submitBtn = document.getElementById('btnSubmit');
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<span class="loading-spinner"></span> Đang chấm bài...';

            let score = 0;
            testQuestions.forEach((q, i) => {
                if (userAnswers[i] === q.correct_answer) {
                    score++;
                }
            });

            try {
                const { error } = await supabase
                    .from('test_results')
                    .insert([{
                        placement_id: userRowId,
                        answers: userAnswers,
                        score: score,
                        completed_at: new Date().toISOString()
                    }]);

                if (error) throw error;

                document.getElementById('testPage').classList.remove('show');
                document.getElementById('resultPage').classList.add('show');
                displayResult(score);
            } catch (err) {
                alert('Lỗi khi lưu kết quả: ' + err.message);
                submitBtn.disabled = false;
                submitBtn.textContent = 'NỘP BÀI';
            }
        }

        // ===== DISPLAY RESULT =====
        function displayResult(score) {
            document.getElementById('finalScore').textContent = score;
            document.getElementById('totalQuestions').textContent = testQuestions.length;

            const percentage = (score / testQuestions.length) * 100;
            let level = '';
            let message = '';

            if (percentage >= 90) {
                level = 'HSK 5-6';
                message = 'Xuất sắc! Bạn có trình độ tiếng Trung rất cao, phía trung tâm sẽ liên hệ với bạn trong thời gian ngắn nhất!';
            } else if (percentage >= 75) {
                level = 'HSK 4';
                message = 'Rất tốt! Bạn có nền tảng tiếng Anh vững chắc, phía trung tâm sẽ liên hệ với bạn trong thời gian ngắn nhất!';
            } else if (percentage >= 60) {
                level = 'HSK 3';
                message = 'Khá tốt! Bạn đang trên đà phát triển, phía trung tâm sẽ liên hệ với bạn trong thời gian ngắn nhất!';
            } else if (percentage >= 40) {
                level = 'HSK 2';
                message = 'Tốt! Bạn đã có kiến thức cơ bản, phía trung tâm sẽ liên hệ với bạn trong thời gian ngắn nhất!';
            } else {
                level = 'HSK 1';
                message = 'Bạn đang bắt đầu hành trình học tiếng Trung, phía trung tâm sẽ liên hệ với bạn trong thời gian ngắn nhất!';
            }

            document.getElementById('levelBadge').textContent = level;
            document.getElementById('resultMessage').textContent = message;
        }

        // ===== FINISH BUTTON =====
        document.getElementById('btnFinish').addEventListener('click', function() {
            window.location.reload();
        });
    </script>
</body>
</html>
